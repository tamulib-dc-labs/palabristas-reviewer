<!DOCTYPE html>
<html lang="en" data-theme="synthwave">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Whisper Transcript Reviewer</title>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.0/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="min-h-screen bg-base-200">
  <div class="hero py-12 bg-gradient-to-r from-blue-500 to-purple-600">
    <div class="hero-overlay bg-opacity-60"></div>
    <div class="hero-content text-center">
      <div class="max-w-md">
        <h1 class="mb-5 text-5xl font-bold">Whisper Transcript Reviewer</h1>
        <p class="mb-5">
          Review VTTs Generated by Whisper or Whisper X.
        </p>

        <div>
          <div id="controls-container">
            <!-- Insert Dropdown -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container mx-auto px-4 py-8 max-w-6xl">
    <div class="main-container">
      <div id="transcript-wrapper" class="transcript-wrapper bg-white rounded-lg shadow-lg p-6">
        <div id="transcript-container" class="min-h-[300px] rounded-lg p-4">
          <!-- Insert Whisper JSON Viewer -->
        </div>

        <!-- Word Timeline Strip - Split Layout -->
        <div id="word-timeline" class="word-timeline">
          <div class="timeline-left">
            <span class="timeline-label">Current Word:</span>
            <div id="timeline-words" class="timeline-words">
              <!-- Words will be dynamically populated -->
              <span class="timeline-word placeholder">Select an audio file to see words...</span>
            </div>
          </div>
          <div class="timeline-right">
            <div id="current-word-score" class="current-word-score">
              <span class="score-label">Score:</span>
              <span id="score-display" class="score-display">--</span>
            </div>
          </div>
        </div>
      </div>

      <div id="scoring-panel" class="scoring-panel">
        <!-- Dynamic Scoring Section -->
        <div class="scoring-section">
          <h3 class="section-title">Dynamic Scoring <span id="dynamic-active-label" class="active-label"
              style="display:none">(Active)</span></h3>
          <p class="section-subtitle">Thresholds from JSON</p>
          <div id="dynamic-scores" class="scores-container">
            <div class="score-row">
              <label>Good:</label>
              <span id="dynamic-good" class="score-value">Loading...</span>
            </div>
            <div class="score-row">
              <label>Neutral:</label>
              <span id="dynamic-neutral" class="score-value">Loading...</span>
            </div>
            <div class="score-row">
              <label>Bad:</label>
              <span id="dynamic-bad" class="score-value">Loading...</span>
            </div>
          </div>
          <div class="button-row">
            <div style="flex:1"></div>
            <button id="apply-dynamic" class="btn btn-primary btn-sm">Apply</button>
          </div>
        </div>

        <!-- Static Scoring Section -->
        <div class="scoring-section">
          <h3 class="section-title">Static Scoring <span id="static-active-label" class="active-label"
              style="display:none">(Active)</span></h3>
          <p class="section-subtitle">Custom thresholds</p>
          <div id="static-scores" class="scores-container">
            <div class="score-row">
              <label>Good:</label>
              <input type="number" id="static-good" class="score-input" value="0.8" step="0.01" min="0" max="1"
                disabled>
            </div>
            <div class="score-row">
              <label>Neutral:</label>
              <input type="number" id="static-neutral" class="score-input" value="0.5" step="0.01" min="0" max="1"
                disabled>
            </div>
            <div class="score-row">
              <label>Bad:</label>
              <input type="number" id="static-bad" class="score-input" value="0.2" step="0.01" min="0" max="1" disabled>
            </div>
          </div>
          <div class="button-row">
            <button id="edit-static" class="btn btn-secondary btn-sm">Edit</button>
            <button id="apply-static" class="btn btn-primary btn-sm">Apply</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer footer-center p-6 bg-base-300 text-base-content">
    <div>
      <p class="font-semibold">Whisper JSON Viewer</p>
      <p class="font-semibold">ðŸ¤« ðŸ¤« ðŸ¤« ðŸ¤« ðŸ¤«</p>
    </div>
  </footer>

  <script type="module" src="./src/main.js"></script>
</body>

</html>